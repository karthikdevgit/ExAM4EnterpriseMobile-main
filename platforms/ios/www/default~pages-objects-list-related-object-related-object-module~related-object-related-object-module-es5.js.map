{"version":3,"sources":["webpack:///src/app/pages/objects-list/related-object/related-object.page.html","webpack:///src/app/pages/objects-list/related-object/related-object-routing.module.ts","webpack:///src/app/pages/objects-list/related-object/related-object.module.ts","webpack:///src/app/pages/objects-list/related-object/related-object.page.scss","webpack:///src/app/pages/objects-list/related-object/related-object.page.ts"],"names":["routes","path","component","RelatedObjectPageRoutingModule","imports","forChild","exports","RelatedObjectPageModule","declarations","RelatedObjectPage","router","route","GlobalParamService","showTreeViewNotEnabledView","_this","queryParams","subscribe","params","schemaViewData","getCurrentNavigation","extras","state","relatedIndex","parentId","eachassessableObject","isFromback","console","log","trackparamFormObjRedirect","isFrom","length","navigationExtras","currentIndex","currentlevelIndex","splice","lastIndex","parentnavigationExtras","navigate","selector","template"],"mappings":"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","file":"default~pages-objects-list-related-object-related-object-module~related-object-related-object-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button (click)=\\\"previousRleatedScreen()\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>RelatedObject</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div *ngIf=\\\"schemaViewData && schemaViewData[relatedIndex] && schemaViewData[relatedIndex].optionConfigDetailsMap && (schemaViewData[relatedIndex].optionConfigDetailsMap.disableTreeView && schemaViewData[relatedIndex].optionConfigDetailsMap.disableTreeView == 'true')\\\">\\n\\n    <app-tree-view-not-enabled  [schemaViewData]=\\\"schemaViewData\\\" [currentIndex]=\\\"relatedIndex\\\"  [parentId]=\\\"parentId\\\"></app-tree-view-not-enabled>\\n  </div>\\n  <div *ngIf=\\\"schemaViewData && schemaViewData[relatedIndex] && schemaViewData[relatedIndex].optionConfigDetailsMap && (!schemaViewData[relatedIndex].optionConfigDetailsMap.disableTreeView || schemaViewData[relatedIndex].optionConfigDetailsMap.disableTreeView == 'false')\\\">\\n  \\n    <app-tree-view-enabled  [schemaViewData]=\\\"schemaViewData\\\" [currentIndex]=\\\"relatedIndex\\\"  [parentId]=\\\"parentId\\\"></app-tree-view-enabled>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RelatedObjectPage } from './related-object.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RelatedObjectPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RelatedObjectPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RelatedObjectPageRoutingModule } from './related-object-routing.module';\n\nimport { RelatedObjectPage } from './related-object.page';\nimport { EachObjectRenderComponent } from 'src/app/svcomponents/each-object-render/each-object-render.component';\nimport { EachRelatedObjButtonRenderComponent } from 'src/app/svcomponents/each-related-obj-button-render/each-related-obj-button-render.component';\nimport { EachAMButtonRenderComponent } from 'src/app/svcomponents/each-ambutton-render/each-ambutton-render.component';\nimport { TreeViewEnabledComponent } from 'src/app/svcomponents/tree-view-enabled/tree-view-enabled.component';\nimport { TreeViewNotEnabledComponent } from 'src/app/svcomponents/tree-view-not-enabled/tree-view-not-enabled.component';\nimport { EachAMRenderComponent } from 'src/app/svcomponents/each-amrender/each-amrender.component';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RelatedObjectPageRoutingModule\n  ],\n  declarations: [RelatedObjectPage,TreeViewNotEnabledComponent,EachObjectRenderComponent,EachRelatedObjButtonRenderComponent,EachAMButtonRenderComponent,TreeViewEnabledComponent,EachAMRenderComponent]\n})\nexport class RelatedObjectPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL29iamVjdHMtbGlzdC9yZWxhdGVkLW9iamVjdC9yZWxhdGVkLW9iamVjdC5wYWdlLnNjc3MifQ== */\";","import { Input } from \"@angular/core\";\nimport { Component, OnInit } from \"@angular/core\";\nimport { Router, NavigationExtras, ActivatedRoute } from \"@angular/router\";\nimport { GlobalParamService } from \"src/app/service/global-param.service\";\nimport { Location } from '@angular/common';\n\nimport * as _ from \"underscore\";\nimport { property } from \"underscore\";\n@Component({\n  selector: \"app-related-object\",\n  templateUrl: \"./related-object.page.html\",\n  styleUrls: [\"./related-object.page.scss\"],\n})\nexport class RelatedObjectPage implements OnInit {\n  showTreeViewNotEnabledView = false;\n\n  navigationExtras: any;\n  index: number;\n  schemaViewData: any;\n  relatedIndex: any;\n  parentId: any;\n  eachassessableObject: any;\n  isFromback:boolean;\n  isFrom:any;\n  constructor(public router: Router, public route:ActivatedRoute,public GlobalParamService:GlobalParamService) {\n    var _this = this;\n    this.route.queryParams.subscribe(params => {\n      _this.schemaViewData =\n      _this.router.getCurrentNavigation().extras.state.schemaViewData;\n    _this.relatedIndex =\n      _this.router.getCurrentNavigation().extras.state.relatedIndex;\n    _this.parentId = _this.router.getCurrentNavigation().extras.state.parentId;\n    _this.eachassessableObject =\n      _this.router.getCurrentNavigation().extras.state.eachassessableObject;\n      _this.isFromback= _this.router.getCurrentNavigation().extras.state.isFromback;\n      console.log(' _this.relatd level push.trackparamFormObjRedirect', _this.GlobalParamService.trackparamFormObjRedirect);\n      _this.isFromback= _this.router.getCurrentNavigation().extras.state.isFromback;\n      console.log(' _this.relatd level push.trackparamFormObjRedirect', _this.GlobalParamService.trackparamFormObjRedirect);\n      _this.isFrom= _this.router.getCurrentNavigation().extras.state.isFrom;\n      console.log(' _this.relatd level push.trackparamFormObjRedirect', _this.isFrom);\n   \n    });\n    console.log(\"related object list page call\");\n    // _this.schemaViewData = _this.router.getCurrentNavigation().extras.state.schemaViewData;\n    // _this.relatedIndex = _this.router.getCurrentNavigation().extras.state.relatedIndex;\n    // _this.parentId = _this.router.getCurrentNavigation().extras.state.parentId;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n        console.log(\n      \"related object list page  schemaViewData\",\n      _this.schemaViewData\n    );\n\n    console.log(\n      \"related object list page  this.relatedIndex:::\",\n      _this.relatedIndex\n    );\n\n    console.log(\"related object list page  this.parentId:::\", _this.parentId);\n    console.log(\n      \"related object list page  this.eachassessableObject:::\",\n      _this.eachassessableObject\n    );\n  }\n  previousRleatedScreen() {\n    var _this = this;\n    console.log('_this.GlobalParamService.trackparamFormObjRedirect',_this.GlobalParamService.trackparamFormObjRedirect);\n\n    if(_this.GlobalParamService.trackparamFormObjRedirect && _this.GlobalParamService.trackparamFormObjRedirect.length > 0){\n      console.log('_this.GlobalParamService.trackparamFormObjRedirect.length',_this.GlobalParamService.trackparamFormObjRedirect.length);\n      //Added for  last level render 2 time issue fix\n      const navigationExtras = _this.GlobalParamService.trackparamFormObjRedirect[_this.GlobalParamService.trackparamFormObjRedirect.length-1];\n      console.log('navigationExtras',_this.relatedIndex,navigationExtras.state.currentIndex);\n      if(_this.relatedIndex== navigationExtras.state.currentIndex){\n        const currentlevelIndex = _this.GlobalParamService.trackparamFormObjRedirect.length - 1;\n        _this.GlobalParamService.trackparamFormObjRedirect.splice(currentlevelIndex, 1); // Removes the last element\n\n      }\n      console.log('currenlevel remove after length',_this.GlobalParamService.trackparamFormObjRedirect.length);\n      const lastIndex = _this.GlobalParamService.trackparamFormObjRedirect.length - 1;\n      console.log('lastIndex-1',lastIndex);\n      console.log('parentnavigationExtras',_this.GlobalParamService.trackparamFormObjRedirect,lastIndex);\n\n      const parentnavigationExtras = _this.GlobalParamService.trackparamFormObjRedirect[lastIndex];\n\n      console.log('parentnavigationExtras',parentnavigationExtras);\n     \n      if( parentnavigationExtras && parentnavigationExtras.state ){\n        console.log('parentnavigationExtras',_this.relatedIndex,parentnavigationExtras.state.currentIndex);\n\n        parentnavigationExtras.state.isFromback=true;\n    //  _this.GlobalParamService.trackparamFormObjRedirect.splice(lastIndex, 1); // Removes the last element\n         console.log('After delte last track',_this.GlobalParamService.trackparamFormObjRedirect);\n        console.log('navigationExtras',parentnavigationExtras);\n        // if( parentnavigationExtras.isFrom=='objectButtoncall'){\n          // console.log('parentnavigationExtras.isFrom',parentnavigationExtras.isFrom);\n          \n          _this.router.navigate(['/redirectpageforrelatedlevel-obj'],parentnavigationExtras);\n      \n         \n        //  }else if( parentnavigationExtras.isFrom=='allRelatedcall'){\n        //   console.log('parentnavigationExtras.isFrom',parentnavigationExtras.isFrom);\n\n        //     _this.router.navigate(['/redirectpageforrelatedlevel-obj'],parentnavigationExtras);\n      \n        //  }\n      }else{\n        _this.GlobalParamService.trackparamFormObjRedirect=[];\n        _this.router.navigate(['/inspections-list']);\n      }\n      //   console.log(' window.history', window.history);\n      // if(_this.eachassessableObject.Id && navigationExtras && navigationExtras.state && !navigationExtras.state.isFromback){\n      //   navigationExtras.state.isFromback=true;\n      //   console.log('_this.relatedIndex',_this.relatedIndex);\n      //   console.log('navigationExtras.state.currentIndex',navigationExtras.state.currentIndex);\n      //   if(_this.relatedIndex == navigationExtras.state.currentIndex){\n      //     const currentIndex = _this.GlobalParamService.trackparamFormObjRedirect.length - 1;\n      //     console.log('currentIndex',currentIndex);\n\n      //     _this.GlobalParamService.trackparamFormObjRedirect.splice(currentIndex, 1); // Removes the last element\n      //     console.log('first one delete', _this.GlobalParamService);\n      //     const  navigationExtras2 = _this.GlobalParamService.trackparamFormObjRedirect[currentIndex-1];\n\n      //   _this.GlobalParamService.trackparamFormObjRedirect.splice(currentIndex-1, 1); // Removes the last element\n\n      // console.log('After delte last track',_this.GlobalParamService.trackparamFormObjRedirect);\n      // console.log('navigationExtras',navigationExtras2);\n      // _this.router.navigate(['/redirectpageforrelatedlevel-obj'],navigationExtras2);\n      // console.log(' window.history', window.history);\n      //   }else{\n      //     _this.GlobalParamService.trackparamFormObjRedirect.splice(lastIndex, 1); // Removes the last element\n      //     console.log('After delte last track',_this.GlobalParamService.trackparamFormObjRedirect);\n      //     console.log('navigationExtras',navigationExtras);\n      //     _this.router.navigate(['/redirectpageforrelatedlevel-obj'],navigationExtras);\n      //     console.log(' window.history', window.history);\n      //   }\n      // }else{\n      //   _this.GlobalParamService.trackparamFormObjRedirect.splice(lastIndex, 1); // Removes the last element\n      //   console.log('After delte last track',_this.GlobalParamService.trackparamFormObjRedirect);\n      //   console.log('navigationExtras',navigationExtras);\n      //   _this.router.navigate(['/redirectpageforrelatedlevel-obj'],navigationExtras);\n      //   console.log(' window.history', window.history);\n      // }\n      \n     \n     \n    }else{\n      _this.GlobalParamService.trackparamFormObjRedirect=[];\n      _this.router.navigate(['/inspections-list']);\n    }\n  }\n}\n"]}